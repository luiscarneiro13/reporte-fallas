import"./bootstrap-BkjzROZU.js";import{_ as v,r as f,c as g,o as d,a as e,w as m,d as u,e as c,v as p,f as b,t as h,b as D}from"./_plugin-vue_export-helper-CwnnhhAP.js";import{E as y,s as A}from"./GlobalApi-Bts-bfS9.js";const _={name:"AddDivision",components:{ErrorValidation:y},props:["branch_id"],data(){return{name:"",email:"",phone:"",address:"",err:null,isSubmitting:!1}},methods:{hideAddDivision(){this.$emit("closeModal")},focusNextField(t){t&&this.$refs[t].focus()},async buttonSubmitAddDivision(){this.isSubmitting=!0;const t={name:this.name,description:this.description,branch_id:window.branchId},i="/api/v1/admin/divisiones/store",{data:r,success:a}=await A(i,t);a?(this.err=null,this.name="",this.description="",$("#modalAddDivision").trigger("divisionAdded",[r])):this.err=r,this.isSubmitting=!1}}},S={id:"modalAddDivision",class:"modal",tabindex:"-1",role:"dialog"},N={class:"modal-dialog modal-md",role:"document"},w={class:"modal-content"},V={class:"modal-body"},k={class:"row mb-3"},x={class:"col-md-12 mb-2"},E={class:"col-md-12 mb-2"},B={class:"modal-footer"},C=["disabled"];function K(t,i,r,a,s,n){const l=f("ErrorValidation");return d(),g("div",S,[e("div",N,[e("div",w,[i[7]||(i[7]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"Agregar división"),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"×")])],-1)),e("div",V,[e("div",k,[e("div",x,[i[5]||(i[5]=e("label",{for:"name"},"Nombre de la división",-1)),m(e("input",{ref:"inputName",type:"text",class:"form-control",name:"name",id:"name","onUpdate:modelValue":i[0]||(i[0]=o=>s.name=o),onKeyup:i[1]||(i[1]=b(o=>n.focusNextField("inputName"),["enter"]))},null,544),[[p,s.name]]),s.err?(d(),u(l,{key:0,err:s.err,item:"name"},null,8,["err"])):c("",!0)]),e("div",E,[i[6]||(i[6]=e("label",{for:"description"},"Descripción",-1)),m(e("input",{ref:"inputDescription",type:"text",class:"form-control",name:"description",id:"description","onUpdate:modelValue":i[2]||(i[2]=o=>t.description=o),onKeyup:i[3]||(i[3]=b(o=>n.focusNextField("inputDescription"),["enter"]))},null,544),[[p,t.description]]),s.err?(d(),u(l,{key:0,err:s.err,item:"description"},null,8,["err"])):c("",!0)])])]),e("div",B,[e("button",{type:"button",disabled:s.isSubmitting,class:"btn btn-primary",onClick:i[4]||(i[4]=(...o)=>n.buttonSubmitAddDivision&&n.buttonSubmitAddDivision(...o))},h(s.isSubmitting?"Agregando...":"Agregar"),9,C)])])])])}const F=v(_,[["render",K]]);D(F).mount("#addDivision");
