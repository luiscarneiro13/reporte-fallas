import"./bootstrap-OiABZ7MP.js";import{_ as h,r as f,o as i,c as _,a as e,w as l,v as m,d as a,e as u,f as c,t as v,b as y}from"./_plugin-vue_export-helper-udYPQiNy.js";import{E as g,s as A}from"./GlobalApi-PsWlnXlw.js";const C={name:"AddCustomer",components:{ErrorValidation:g},props:["branch_id"],data(){return{name:"",email:"",phone:"",address:"",err:null,isSubmitting:!1}},methods:{hideAddCustomer(){this.$emit("closeModal")},focusNextField(n){n&&this.$refs[n].focus()},async buttonSubmitAddCustomer(){this.isSubmitting=!0;const n={name:this.name,email:this.email,phone:this.phone,address:this.address,branch_id:window.branchId},s="/api/v1/admin/clientes/store",{data:p,success:b}=await A(s,n);b?(this.err=null,this.name="",this.email="",this.phone="",this.address="",$("#modalAddCustomer").trigger("customerAdded",[p])):this.err=p,this.isSubmitting=!1}}},x={id:"modalAddCustomer",class:"modal",tabindex:"-1",role:"dialog"},N={class:"modal-dialog modal-md",role:"document"},S={class:"modal-content"},V=e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"Agregar cliente"),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"×")])],-1),k={class:"modal-body"},E={class:"row mb-3"},w={class:"col-md-12 mb-2"},K=e("label",{for:"name"},"Nombre",-1),B={class:"col-md-12 mb-2"},F=e("label",{for:"email"},"Email",-1),U={class:"col-md-12 mb-2"},D=e("label",{for:"phone"},"Teléfono",-1),M={class:"col-md-12 mb-2"},P=e("label",{for:"address"},"Dirección",-1),T={class:"modal-footer"},I=["disabled"];function j(n,s,p,b,t,r){const d=f("ErrorValidation");return i(),_("div",x,[e("div",N,[e("div",S,[V,e("div",k,[e("div",E,[e("div",w,[K,l(e("input",{ref:"inputName",type:"text",class:"form-control",name:"name",id:"name","onUpdate:modelValue":s[0]||(s[0]=o=>t.name=o),onKeyup:s[1]||(s[1]=a(o=>r.focusNextField("inputName"),["enter"]))},null,544),[[m,t.name]]),t.err?(i(),u(d,{key:0,err:t.err,item:"name"},null,8,["err"])):c("",!0)]),e("div",B,[F,l(e("input",{ref:"inputEmail",type:"text",class:"form-control",name:"email",id:"email","onUpdate:modelValue":s[2]||(s[2]=o=>t.email=o),onKeyup:s[3]||(s[3]=a(o=>r.focusNextField("inputEmail"),["enter"]))},null,544),[[m,t.email]]),t.err?(i(),u(d,{key:0,err:t.err,item:"email"},null,8,["err"])):c("",!0)]),e("div",U,[D,l(e("input",{ref:"inputPhone",type:"text",class:"form-control",name:"phone",id:"phone","onUpdate:modelValue":s[4]||(s[4]=o=>t.phone=o),onKeyup:s[5]||(s[5]=a(o=>r.focusNextField("inputPhone"),["enter"]))},null,544),[[m,t.phone]]),t.err?(i(),u(d,{key:0,err:t.err,item:"phone"},null,8,["err"])):c("",!0)]),e("div",M,[P,l(e("input",{ref:"inputAddress",type:"text",class:"form-control",name:"address",id:"address","onUpdate:modelValue":s[6]||(s[6]=o=>t.address=o),onKeyup:s[7]||(s[7]=a(o=>r.focusNextField("inputAddress"),["enter"]))},null,544),[[m,t.address]]),t.err?(i(),u(d,{key:0,err:t.err,item:"address"},null,8,["err"])):c("",!0)])])]),e("div",T,[e("button",{type:"button",disabled:t.isSubmitting,class:"btn btn-primary",onClick:s[8]||(s[8]=(...o)=>r.buttonSubmitAddCustomer&&r.buttonSubmitAddCustomer(...o))},v(t.isSubmitting?"Agregando...":"Agregar"),9,I)])])])])}const q=h(C,[["render",j]]);y(q).mount("#addCustomer");
