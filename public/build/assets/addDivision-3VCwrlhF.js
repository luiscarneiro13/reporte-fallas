import"./bootstrap-OiABZ7MP.js";import{_ as v,r as _,o as r,c as h,a as i,w as m,v as c,d as u,e as p,f as b,t as f,b as g}from"./_plugin-vue_export-helper-udYPQiNy.js";import{E as D,s as y}from"./GlobalApi-PsWlnXlw.js";const A={name:"AddDivision",components:{ErrorValidation:D},props:["branch_id"],data(){return{name:"",email:"",phone:"",address:"",err:null,isSubmitting:!1}},methods:{hideAddDivision(){this.$emit("closeModal")},focusNextField(t){t&&this.$refs[t].focus()},async buttonSubmitAddDivision(){this.isSubmitting=!0;const t={name:this.name,description:this.description,branch_id:window.branchId},e="/api/v1/admin/divisiones/store",{data:d,success:a}=await y(e,t);a?(this.err=null,this.name="",this.description="",$("#modalAddDivision").trigger("divisionAdded",[d])):this.err=d,this.isSubmitting=!1}}},S={id:"modalAddDivision",class:"modal",tabindex:"-1",role:"dialog"},N={class:"modal-dialog modal-md",role:"document"},w={class:"modal-content"},V=i("div",{class:"modal-header"},[i("h5",{class:"modal-title"},"Agregar división"),i("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[i("span",{"aria-hidden":"true"},"×")])],-1),k={class:"modal-body"},x={class:"row mb-3"},E={class:"col-md-12 mb-2"},B=i("label",{for:"name"},"Nombre de la división",-1),C={class:"col-md-12 mb-2"},K=i("label",{for:"description"},"Descripción",-1),F={class:"modal-footer"},M=["disabled"];function U(t,e,d,a,s,n){const l=_("ErrorValidation");return r(),h("div",S,[i("div",N,[i("div",w,[V,i("div",k,[i("div",x,[i("div",E,[B,m(i("input",{ref:"inputName",type:"text",class:"form-control",name:"name",id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>s.name=o),onKeyup:e[1]||(e[1]=u(o=>n.focusNextField("inputName"),["enter"]))},null,544),[[c,s.name]]),s.err?(r(),p(l,{key:0,err:s.err,item:"name"},null,8,["err"])):b("",!0)]),i("div",C,[K,m(i("input",{ref:"inputDescription",type:"text",class:"form-control",name:"description",id:"description","onUpdate:modelValue":e[2]||(e[2]=o=>t.description=o),onKeyup:e[3]||(e[3]=u(o=>n.focusNextField("inputDescription"),["enter"]))},null,544),[[c,t.description]]),s.err?(r(),p(l,{key:0,err:s.err,item:"description"},null,8,["err"])):b("",!0)])])]),i("div",F,[i("button",{type:"button",disabled:s.isSubmitting,class:"btn btn-primary",onClick:e[4]||(e[4]=(...o)=>n.buttonSubmitAddDivision&&n.buttonSubmitAddDivision(...o))},f(s.isSubmitting?"Agregando...":"Agregar"),9,M)])])])])}const I=v(A,[["render",U]]);g(I).mount("#addDivision");
