import"./bootstrap-BkjzROZU.js";import{_ as c,r as h,c as v,o as i,a as s,w as d,d as m,e as a,v as u,f as p,t as y,b as g}from"./_plugin-vue_export-helper-CwnnhhAP.js";import{E as A,s as C}from"./GlobalApi-Bts-bfS9.js";const x={name:"AddCustomer",components:{ErrorValidation:A},props:["branch_id"],data(){return{name:"",email:"",phone:"",address:"",err:null,isSubmitting:!1}},methods:{hideAddCustomer(){this.$emit("closeModal")},focusNextField(n){n&&this.$refs[n].focus()},async buttonSubmitAddCustomer(){this.isSubmitting=!0;const n={name:this.name,email:this.email,phone:this.phone,address:this.address,branch_id:window.branchId},e="/api/v1/admin/clientes/store",{data:b,success:f}=await C(e,n);f?(this.err=null,this.name="",this.email="",this.phone="",this.address="",$("#modalAddCustomer").trigger("customerAdded",[b])):this.err=b,this.isSubmitting=!1}}},N={id:"modalAddCustomer",class:"modal",tabindex:"-1",role:"dialog"},S={class:"modal-dialog modal-md",role:"document"},V={class:"modal-content"},k={class:"modal-body"},E={class:"row mb-3"},w={class:"col-md-12 mb-2"},_={class:"col-md-12 mb-2"},K={class:"col-md-12 mb-2"},B={class:"col-md-12 mb-2"},F={class:"modal-footer"},U=["disabled"];function D(n,e,b,f,t,r){const l=h("ErrorValidation");return i(),v("div",N,[s("div",S,[s("div",V,[e[13]||(e[13]=s("div",{class:"modal-header"},[s("h5",{class:"modal-title"},"Agregar cliente"),s("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[s("span",{"aria-hidden":"true"},"×")])],-1)),s("div",k,[s("div",E,[s("div",w,[e[9]||(e[9]=s("label",{for:"name"},"Nombre",-1)),d(s("input",{ref:"inputName",type:"text",class:"form-control",name:"name",id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>t.name=o),onKeyup:e[1]||(e[1]=p(o=>r.focusNextField("inputName"),["enter"]))},null,544),[[u,t.name]]),t.err?(i(),m(l,{key:0,err:t.err,item:"name"},null,8,["err"])):a("",!0)]),s("div",_,[e[10]||(e[10]=s("label",{for:"email"},"Email",-1)),d(s("input",{ref:"inputEmail",type:"text",class:"form-control",name:"email",id:"email","onUpdate:modelValue":e[2]||(e[2]=o=>t.email=o),onKeyup:e[3]||(e[3]=p(o=>r.focusNextField("inputEmail"),["enter"]))},null,544),[[u,t.email]]),t.err?(i(),m(l,{key:0,err:t.err,item:"email"},null,8,["err"])):a("",!0)]),s("div",K,[e[11]||(e[11]=s("label",{for:"phone"},"Teléfono",-1)),d(s("input",{ref:"inputPhone",type:"text",class:"form-control",name:"phone",id:"phone","onUpdate:modelValue":e[4]||(e[4]=o=>t.phone=o),onKeyup:e[5]||(e[5]=p(o=>r.focusNextField("inputPhone"),["enter"]))},null,544),[[u,t.phone]]),t.err?(i(),m(l,{key:0,err:t.err,item:"phone"},null,8,["err"])):a("",!0)]),s("div",B,[e[12]||(e[12]=s("label",{for:"address"},"Dirección",-1)),d(s("input",{ref:"inputAddress",type:"text",class:"form-control",name:"address",id:"address","onUpdate:modelValue":e[6]||(e[6]=o=>t.address=o),onKeyup:e[7]||(e[7]=p(o=>r.focusNextField("inputAddress"),["enter"]))},null,544),[[u,t.address]]),t.err?(i(),m(l,{key:0,err:t.err,item:"address"},null,8,["err"])):a("",!0)])])]),s("div",F,[s("button",{type:"button",disabled:t.isSubmitting,class:"btn btn-primary",onClick:e[8]||(e[8]=(...o)=>r.buttonSubmitAddCustomer&&r.buttonSubmitAddCustomer(...o))},y(t.isSubmitting?"Agregando...":"Agregar"),9,U)])])])])}const M=c(x,[["render",D]]);g(M).mount("#addCustomer");
